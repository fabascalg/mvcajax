@{
    ViewData["Title"] = "Home Page";
}

<script>
    $(document).ready(function () {
        $("#boton").click(function () {
            $.getJSON("/home/ListaFacturasJSON",function(datos){
                for (var i=0;i<datos.length; i++){
                    $("#mitabla").append("<tr><td>"+datos[i].numero+"</td><td>"+datos[i].concepto+"</td><td>"+datos[i].importe+"</td></tr>");
                }
                console.table(datos);
            })

        })
        $("#filtroconcepto").keyup(function () {
            $.getJSON("/home/ListaFacturasJSON?concepto="+$(this).val(),function(datos){
                console.log($(this).val);
                $("#mitabla2").empty();
                for (let i=0;i<datos.length; i++){
                    $("#mitabla2").append("<tr><td>"+datos[i].numero+"</td><td>"+datos[i].concepto+"</td><td>"+datos[i].importe+"</td></tr>");
                }
            })

        })
    })
</script>

<table id="mitabla">
    <thead>
    <tr>
        <th>Numero</th>
        <th>Concepto</th>
        <th>Importe</th>
    </tr>
    </thead>
    <tbody>
        @foreach (var item in ViewBag.listafacturas)
        {
            <tr>
                <td>@item.Numero</td>
                <td>@item.Concepto</td>
                <td>@item.Importe</td>
            </tr>
            
        }
    </tbody>

</table>
<hr>
filtar concepto<input type="text" id="filtroconcepto"/>
<table id="mitabla2">

</table>
<br>
<input type="button" value="aceptar" id="boton" name="boton">


